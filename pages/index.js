import data from "../data.json";

import Head from "next/head";

import styles from "../styles/Home.module.css";

const axios = require("axios");
import { DateTime } from "luxon";

export default function Home({ data }) {
  let dateTime = DateTime.local();

  let localMed = dateTime.toLocaleString(DateTime.DATETIME_MED_WITH_SECONDS);

  let portlandTime = dateTime
    .setZone("America/Los_Angeles")
    .toLocaleString(DateTime.DATETIME_MED_WITH_SECONDS);

  // Making a date from Supabase Date

  let objFromData = DateTime.fromISO(`${data[0].us_date}T${data[0].us_time}`);
  let strFromObj = objFromData.toFormat("ff");

  // let dateFromDataNZ = dateFromData.setZone("Pacific/Auckland");

  // let supaISO = DateTime.fromObject(
  //   {
  //     day: ISOFromData.c.day,
  //     hour: ISOFromData.c.hour,
  //     minute: ISOFromData.c.minute,
  //     month: ISOFromData.c.month,
  //     year: ISOFromData.c.year,
  //   },
  //   { zone: "America/Los_Angeles", numberingSystem: "beng" }
  // );

  // console.log("supaISO", supaISO);
  // console.log(typeof supaIso);

  // let supaDate = supaISO.toLocaleString(DateTime.DATETIME_MED_WITH_SECONDS);

  /**  */
  return (
    <div className={styles.container}>
      <Head>
        <title>Create Next App</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>

      <main className={styles.main}>
        <div> New Zealand local MED: {localMed}</div>
        <div> Portland local time: {portlandTime}</div>
        {/* <div>Json Date in Portland Time: {supaDate}</div> */}
        <div>Date from data: {strFromObj}</div>
      </main>
    </div>
  );
}

export async function getStaticProps() {
  return {
    props: {
      data,
    },
  };
}
